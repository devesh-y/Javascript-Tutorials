<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn">fetch</button>
    <script>
        let url = "https://newsapi.org/v2/everything?q=tesla&from=2022-06-01&sortBy=publishedAt&apiKey=aeb170c8150e4ca18b4afaa3a60f09ee";

        document.getElementById("btn").addEventListener("click", function () {
            console.log("started getdata");
            //fetch() takes one argument — the path to the resource you want to fetch — and does not directly return the JSON response body but instead returns a promise that resolves with a Response object.
            fetch(url).then(function (response) {  //to extract the JSON body content from the Response object, we use the json() method, which returns a second promise that resolves with the result of parsing the response body text as JSON.
                console.log("inside first");
                return response.json(); //or response.text
            }).then(function (data) {
                console.log("inside second");
                console.log(data);

            })
        }
        )
    </script>

</body>

</html>